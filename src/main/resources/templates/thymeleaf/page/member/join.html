<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="thymeleaf/layout/login_layout">

<!-- index.html 고유 CSS 추가 -->
<th:block layout:fragment="css">
    <!--<link rel="stylesheet" th:href="@{/css/page/home.css}" >-->
</th:block>
<!-- 로그인 -->
<div layout:fragment="content" class="join-area">
    <div>
        <form name="joinForm" method="post" action="#">
            <fieldset>
                <legend>Sign up</legend>
                <h2><a href="/user/home"><img src="/assets/image/common/logo_black.png" alt="" title="" /></a></h2>
                <div>
                    <a href="/login">Sign In</a>
                    <a href="/user/join" class="active">Sign up</a>
                </div>
                <ul>
                    <li>
                        <input type="text" name="memberId" title="ID" maxlength="20" class="id-icn" placeholder="ID" />
                    </li>
                    <li>
                        <input type="password" name="memberPass" title="Password" maxlength="20" class="pw-icn" placeholder="PASSWORD" autocomplete="off"/>
                    </li>
                    <li>
                        <input type="password" name="memberPassConfirm" title="Confirm Password" maxlength="20" class="pw-icn" placeholder="Confirm Password" autocomplete="off"/>
                    </li>
                    <li>
                        <input type="text" name="memberEmail" title="email" maxlength="35" class="email-icn" placeholder="E-Mail" />
                    </li>
                    <li>
                        <input type="text" name="memberName" title="name" maxlength="20" class="name-icn" placeholder="Name" />
                    </li>
                </ul>
                <ol>
                    <li>
                        <input type="checkbox" name="AgreeAllChk" value="" id="AgreeAllChk" title="Agree all" />
                        <label for="AgreeAllChk">Agree all</label>
                    </li>
                    <li>
                        <input type="checkbox" name="agreeCheck1" value="" id="AgreeChk1" title="Information collected while the users use services" />
                        <label for="AgreeChk1">Information collected while the users use services (Necessary)</label>
                        <h3>
                            <img src="/assets/image/content/member_agree_img01.png" width="100%" alt="" title="" />
                        </h3>
                    </li>
                    <li>
                        <input type="checkbox" name="agreeCheck2" value="" id="AgreeChk2" title="Information to be collected and method of collection (Necessary)" />
                        <label for="AgreeChk2">Information to be collected and method of collection (Necessary)</label>
                        <h3>
                            [Privacy Policy]<br />
                            This policy relates to the privacy practice of Cojam in connection with the website www.cojam.io. We are not responsible for the content or privacy practices of other websites, including websites to which we may direct you from links on our website.<br />
                            1. Cojam respects your right to privacy and will not collect any personal information about you on this website other than for the purposes of registration, identification and the Services. No personal information is collected without your permission as set out in the Data Protection Consent and Exchange Rules. Any personal information that you provide to Cojam will be treated with the highest standards of security and confidentiality, strictly in accordance with the Data Protection Act, 1988 of Ireland.<br />
                            2. This website uses "cookies" to allow a User web browser (software used to read web pages) to recall those pages of this website which have already been visited by the User. Cookies are small pieces of information, placed on your computer by a website for tracking purposes.<br />
                            3. Technical information may be collected when you access this website, which may be logged by Cojam or our Internet service provider in order to determine statistical and other information regarding our website or the provision of the Services. The technical information is not personal information but may or may not personally identify you. The technical information is used so that we can monitor and improve our website. Such technical information may include<br />
                            4. Your IP address (the Internet protocol coded address for your computer which may uniquely identify your computer); Your domain server; Type of web browser (software used to read web pages); The top-level domain name used by you. Confidentiality and Security of Personal Information<br />
                            5. We will only disclose your technical information or personal information where such disclosure is necessary to comply with a Court order or other legal process, to protect our rights, or our property, to enforce our Rules of Use, to operate our website and Services and to conduct, monitor and analyse the Service and Cojam business, to operate our security precautions, to obtain advice from Cojam' professional advisors, to carry on direct marketing by the agents of Cojam in relation to Predictious or other Persons, to assist any Person to whom Cojam proposes to transfer any of its rights and/or responsibilities, to comply with any legal or regulatory requirement of any jurisdiction, for registration for the Services and for providing the Services and any information in relation to the Services via the Internet, telephone and by any other means whatsoever, or as otherwise provided in the Rules.<br />
                            6. If your personal information, i.e. your email address or password, is lost, stolen or used without your permission, you should immediately notify Cojam.<br />
                            7. Cojam cannot ensure with websites other than www.cojam.io, the security of your privacy or personal information or technical information which is given by you during any session or otherwise including websites to which the User may be directed by cojam.<br />
                            8. Cojam reserves the right, at any time and without notice, to add to, change, update or modify this Privacy Policy, simply by posting such addition, change, update or modification on this website. Any such change, update or modification will be effective one week after notice is posted on the website.<br />
                            9. Cojam have taken all reasonable precautions to prevent disclosure otherwise than as set out in this Privacy Policy or the Data Protection Consent and Exchange Rules of any of your personal information which you reveal to us on this website. To ensure the security of your bitcoins, we encrypt the private key required to access the funds.<br />
                            10. Words and expressions defined in the Data Protection Consent and Exchange Rules shall where the context permits and unless otherwise defined herein, shall have the same meaning when used in this Privacy Policy.<br /><br />

                            [Trading Disclaimer]<br />
                            1. Do not enter an order to buy or sell shares in any market on Predictious if you do not accept Pixode's absolute right to settle or unwind any market in any way it deems appropriate.
                            2. You may lose all your deposited funds and any profits previously accumulated by trading Predictious markets.<br />
                            3. Cojam is not a recognised or designated investment exchange as defined by the Financial Services Act 1986 of the UK, the Stock Exchange Act, 1995 of Ireland or the Central Bank Act, 1989 of Ireland nor an investment business firm as defined by the Investment Intermediaries Act, 1995 of Ireland. Trading contracts on-line on Predictious involves risk. There is no guarantee or warranty whatsoever that if you trade any contract you will be able to liquidate or cover your position at any price let alone the price that you want. You should only trade a contract if you are willing to hold that position until expiry.<br />
                            4. Cojam is neither a bookmaker nor does it hold itself out to be a bookmaker under Irish or UK law.<br />
                            5. Cojam is providing the information on this website on an "as is" basis. The information on this website is provided for information purposes only and Cojam cannot accept any liability or responsibility for, and no warranty or representation of any kind, whether express or implied, is given in relation to, such information.<br />
                            6. Where links to third party websites are provided for convenience only and Cojam is not responsible for the contents or otherwise of any linked sites including without limitation any link in a linked website. Cojam cannot endorse or vouch for any companies or organisations which are referred to in this website or any services such companies or organisations may offer.<br />
                            7. Forecast and associated logos are trademarks of Cojam. Other products, names and company names etc. mentioned in this website may be trademarks or registered trademarks of third parties.<br /><br />
                            [Data Protection]<br />
                            1. By accessing, using and continuing to use this website and the services, materials, and information contained herein that you are deemed to have read, understood, accepted and agreed to be bound by and consent to the data protections consent and terms and conditions of use. If you do not consent to be bound by data protection consent and terms and conditions of use then do not use this website.<br />
                            2. The Forecast Privacy Policy shall apply herein. Cojam keeps personal data regarding account holders for the following purposes:<br />
                            1). for registration for the Services and for providing the Services and information in relation to the Services via the Internet, telephone and by any other means whatsoever; 2). to administer and operate the website and Services and to conduct, monitor and analyse the Service and Cojam business; 3). to assist any Person to whom Cojam proposes to transfer any of its rights and/or responsibilities; 4). to comply with any legal or regulatory requirement of any jurisdiction; 5). for the purpose of direct marketing by Cojam, whether such direct marketing is in relation to Predictious or other Persons, or for the provision of the Services; 6). of complying with a Court order or other legal process; 7). protecting our rights or our property; 8). to enforce our Terms and Conditions of Use; 9). to operate our security precautions; 10). obtaining advice and/or information from Cojam's professional advisors;<br />
                            3. Account holders hereby irrevocably, unconditionally and unambiguously consent to any present or future use, transfer or disclosure howsoever arising of the personal data worldwide for any and all of the herein stated purposes.<br />
                            4. Technical information in aggregate (i.e. statistical information) may be shared with third parties.<br />
                            5. For the purpose of providing the Services, User's personal data may be provided to third parties and the User acknowledges and consents to third parties having access to their personal data for that purpose. Account holders agree to indemnify and hold Cojam and all Affiliates harmless for any use other than for the provision of the Services or use contrary to the Data Protection Act, 1988 which third parties may make of such personal data.<br />
                            6. Account holders agree to comply with the laws of any applicable jurisdiction regarding privacy and data protection. Account holders further agree not to do any act, or refrain from doing any act, which would cause Cojam to be in breach of any and all privacy and data protection laws, codes or agreements relating thereto.
                        </h3>
                    </li>
                </ol>
                <p>
                    <a th:onclick="|javascript:fnJoinMember()|">Submit</a>
                </p>
            </fieldset>
        </form>
    </div>
</div>
<th:block layout:fragment="script">
    <script th:src="@{/assets/js/jquery.cookie.js}"></script>
    <script>
        $(document).on("click",'#AgreeAllChk',function(e){
            if($(this).is(":checked")){
                $("#AgreeChk1").prop("checked",true);
                $("#AgreeChk2").prop("checked",true);
            }else {
                $("#AgreeChk1").prop("checked",false);
                $("#AgreeChk2").prop("checked",false);
            }

        });

        function fnJoinMember() {
            if($("input[name=memberId]").val()==""){
                toastr.warning('Please enter your ID');
                return;
            }
            const userIdCheck = RegExp(/^[a-z0-9_\-]{5,20}$/);
            if( !userIdCheck.test( $("input[name=memberId]").val() ) ) {
                toastr.warning('ID is 5 or more and less than 20 including lowercase letters and numbers.');
                return;
            }

            if($("input[name=memberPass]").val()==""){
                toastr.warning('Please enter your password');
                return;
            }

            if($("input[name=memberPass]").val() != $("input[name=memberPassConfirm]").val()){
                toastr.warning('Passwords do not match each other.');
                return;
            }

            const passwdCheck = RegExp(/^(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^*()\-_=+\\\|\[\]{};:\'",.<>\/?]).{8,16}$/);
            if( !passwdCheck.test( $("input[name=memberPass]").val() ) ) {
                toastr.warning('The password must be 8-16 characters long, including at least one English uppercase and lowercase letter, number, and special character.');
                toastr.warning('비밀번호는 8자 이상 16자 이하 이어야 하며, 최소 각 1개의 대문자, 소문자, 숫자와 특수문자가 포함되어야 합니다.');
                return;
            }

            if($("input[name=memberEmail]").val()==""){
                toastr.warning('Please enter your email');
                return;
            }

            const emailCheck = RegExp(/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/);
            if( !emailCheck.test( $("input[name=memberEmail]").val() ) ) {
                toastr.warning('Email format is incorrect.');
                return;

            }

            if($("input[name=memberName]").val()==""){
                toastr.warning('Please enter your name');
                return;
            }

            if(!$("#AgreeChk1").is(":checked")
                || !$("#AgreeChk2").is(":checked")){
                toastr.warning('Acceptance of the terms and conditions is mandatory.');
                return;
            }


            $.ajax({
                url:"/user/join",
                type :  "POST",
                dataType : "json",
                data : $('form[name=joinForm]').serialize(),
                success : function(response){
                    if(response.check){
                        location.href ='/user/join/completed?a4='+response.item;
                    } else {
                        toastr.error(response.message);
                    }
                }
            });

        }
    </script>
</th:block>
<!-- 로그인 끝 -->
</html>